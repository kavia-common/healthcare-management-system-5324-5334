{"is_source_file": true, "format": "Dart", "description": "This Dart source file defines an API client class 'ApiClient' for managing HTTP requests, including token refresh logic, request handling with different HTTP methods, and error handling, specifically for a healthcare management system frontend.", "external_files": ["auth_storage.dart"], "external_methods": ["AuthStorage.getAccessToken"], "published": ["ApiClient"], "classes": [{"name": "ApiException", "description": "An exception class representing API failures, including a status code and message."}, {"name": "ApiClient", "description": "Main class for making HTTP requests to the API, managing authorization, timeouts, and automatic token refresh."}], "methods": [{"name": "setTokenRefresher", "description": "Sets a callback function to refresh authentication tokens."}, {"name": "_buildUri", "description": "Builds a complete URI from a base URL, relative path, and optional query parameters."}, {"name": "_defaultHeaders", "description": "Provides default headers for HTTP requests, optionally merging additional headers."}, {"name": "_authHeaders", "description": "Retrieves authentication headers, including the Bearer token if available."}, {"name": "_parseBody", "description": "Parses the HTTP response body based on content type, handling JSON and text content."}, {"name": "_handleResponse", "description": "Handles the HTTP response, returning parsed data or throwing an ApiException for errors."}, {"name": "_request", "description": "Handles making an HTTP request with automatic retries if a 401 Unauthorized response is received, after token refresh."}, {"name": "get", "description": "Sends a GET request to the specified path."}, {"name": "postJson", "description": "Sends a POST request with a JSON-encoded body."}, {"name": "postForm", "description": "Sends a POST request with form-urlencoded data."}, {"name": "patchJson", "description": "Sends a PATCH request with a JSON-encoded body."}, {"name": "deleteJson", "description": "Sends a DELETE request with a JSON-encoded body."}], "calls": ["http.Client.get", "http.Client.post", "http.Client.patch", "http.Client.delete", "jsonDecode", "UTF8.decode", "storage?.getAccessToken", "_tokenRefresher"], "search-terms": ["ApiClient", "token refresh", "HTTP methods", "Dart HTTP client", "Healthcare API"], "state": 2, "file_id": 22, "knowledge_revision": 46, "git_revision": "", "hash": "a83e9fb9c8734163e38a7c31598415de", "format-version": 4, "code-base-name": "flutter_frontend", "filename": "flutter_frontend/lib/core/api_client.dart", "revision_history": [{"46": ""}]}