{"is_source_file": true, "format": "Dart", "description": "This Dart source file defines an API client class 'ApiClient' for making HTTP requests, handling authentication tokens via 'AuthStorage', and managing API exceptions. It includes methods for GET, POST, PATCH, DELETE requests, with support for automatic token refresh on 401 responses.", "external_files": ["auth_storage.dart"], "external_methods": ["AuthStorage.getAccessToken"], "published": ["ApiClient", "ApiException"], "classes": [{"name": "ApiClient", "description": "A client for making authenticated HTTP requests, supporting JSON and form data, with auto-refresh on 401 errors."}, {"name": "ApiException", "description": "An exception class representing API failure responses with optional status codes."}], "methods": [{"name": "setTokenRefresher", "description": "Sets a callback function to refresh tokens upon expiration."}, {"name": "_buildUri", "description": "Constructs a Uri object from a path and optional query parameters, normalizing slashes."}, {"name": "_defaultHeaders", "description": "Provides default headers including Accept and Content-Type, merging with optional additional headers."}, {"name": "_authHeaders", "description": "Retrieves access token from storage and returns authorization headers."}, {"name": "_parseBody", "description": "Decodes HTTP response body based on content type, handling JSON and plain text."}, {"name": "_handleResponse", "description": "Processes HTTP responses, returning decoded data or throwing an ApiException on error."}, {"name": "_request", "description": "Performs an HTTP request with method, path, query, body, headers, with automatic token refresh on 401."}, {"name": "get", "description": "Performs a GET request to the specified path with optional query parameters."}, {"name": "getJson", "description": "Performs a GET request and decodes the response JSON into a Map."}, {"name": "postJson", "description": "Performs a POST request with JSON body and decodes JSON response."}, {"name": "postForm", "description": "Performs a POST request with form data."}, {"name": "patchJson", "description": "Performs a PATCH request with JSON body and decodes JSON response."}, {"name": "deleteJson", "description": "Performs a DELETE request with optional JSON body."}], "calls": ["await _client.get", "await _client.post", "await _client.patch", "await _client.delete", "jsonDecode", "utf8.decode"], "search-terms": ["ApiClient", "HTTP wrapper", "Authorization header", "token refresh", "json decode", "API exceptions", "Dart HTTP client", "auth storage"], "state": 2, "file_id": 22, "knowledge_revision": 92, "git_revision": "", "revision_history": [{"46": ""}, {"83": ""}, {"92": ""}], "hash": "6c4585f72cdba75bc55d7dddd7fc87c9", "format-version": 4, "code-base-name": "flutter_frontend", "filename": "flutter_frontend/lib/core/api_client.dart"}