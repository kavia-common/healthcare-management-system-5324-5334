{"is_source_file": true, "format": "Dart", "description": "This Dart file implements an authentication provider class 'AuthProvider' for a Flutter application. The class manages user authentication, token lifecycle, and user profile state, utilizing external API client and storage classes for backend communication and token persistence.", "external_files": ["../core/api_client.dart", "../core/auth_storage.dart"], "external_methods": ["ApiClient.postForm", "ApiClient.postJson", "ApiClient.get", "ApiClient.patchJson", "AuthStorage.getAccessToken", "AuthStorage.getRefreshToken", "AuthStorage.saveTokens", "AuthStorage.clear"], "published": ["AuthProvider"], "classes": [{"name": "AuthProvider", "description": "A ChangeNotifier that provides authentication functionalities including login, registration, token refresh, profile fetching and updating, and logout."}], "methods": [{"name": "initialize", "description": "Loads tokens from storage on startup, initializes authentication state without auto-calling 'whoami'."}, {"name": "login", "description": "Authenticates user with email and password, stores tokens, and fetches user profile."}, {"name": "register", "description": "Registers a new user with provided email, password, and optional full name; auto-logs in upon success."}, {"name": "refreshTokens", "description": "Refreshes authentication tokens using the refresh token."}, {"name": "fetchProfile", "description": "Retrieves current user profile information from the backend."}, {"name": "updateProfile", "description": "Updates user's profile information such as full name."}, {"name": "logout", "description": "Clears stored tokens and user profile, notifying listeners."}], "calls": ["api.postForm", "api.postJson", "api.get", "api.patchJson", "storage.getAccessToken", "storage.getRefreshToken", "storage.saveTokens", "storage.clear"], "search-terms": ["AuthProvider", "auth", "token lifecycle", "flutter authentication", "user profile management", "token refresh", "change notifier"], "state": 2, "file_id": 23, "knowledge_revision": 98, "git_revision": "", "revision_history": [{"48": ""}, {"84": ""}, {"85": ""}, {"98": ""}], "hash": "5e52e3d2e7768da6ed419d8ad4a9887d", "format-version": 4, "code-base-name": "flutter_frontend", "filename": "flutter_frontend/lib/state/auth_provider.dart"}