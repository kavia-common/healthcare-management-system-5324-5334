{"is_source_file": true, "format": "Dart", "description": "This file defines a Flutter UI screen 'MedicalRecordsScreen' for displaying and managing a patient's medical records. It includes widgets for listing records, fetching data via providers, and adding new records through a dialog form.", "external_files": ["../../state/records_provider.dart", "../../state/patient_provider.dart", "../../widgets/common/card_container.dart", "../../widgets/common/input_field.dart", "../../widgets/common/primary_button.dart"], "external_methods": ["Provider.of<PatientProvider>.fetchMyProfile()", "Provider.of<RecordsProvider>.fetchRecords()", "Provider.of<RecordsProvider>.createRecord()", "showDialog()", "Navigator.of().pop()", "context.read<PatientProvider>()", "context.read<RecordsProvider>()", "context.watch<RecordsProvider>()"], "published": ["MedicalRecordsScreen"], "classes": [{"name": "MedicalRecordsScreen", "description": "A StatefulWidget that displays a list of medical records with an option to add new records."}, {"name": "_MedicalRecordsScreenState", "description": "State class managing the logic and UI for MedicalRecordsScreen, including data fetching and user interactions."}, {"name": "_AddRecordDialog", "description": "A StatefulWidget representing a dialog for adding a new medical record."}, {"name": "_AddRecordDialogState", "description": "State class handling form inputs and submission logic for the add record dialog."}], "methods": [{"name": "initState", "description": "Initializes state, fetches user profile and records after widget is built."}, {"name": "_openAdd", "description": "Handles the process of opening the add record dialog and refreshing records afterward."}, {"name": "build", "description": "Builds the widget tree for displaying records and the FloatingActionButton."}, {"name": "dispose", "description": "Disposes text controllers when dialog form is closed."}, {"name": "_submit", "description": "Validates form inputs and creates a new record via provider, then closes the dialog if successful."}, {"name": "build (in _AddRecordDialogState)", "description": "Builds the alert dialog UI with form fields and action buttons."}], "calls": ["WidgetsBinding.instance.addPostFrameCallback", "Provider.of<PatientProvider>.fetchMyProfile", "Provider.of<RecordsProvider>.fetchRecords", "showDialog", "AlertDialog", "Navigator.of(context).pop", "context.read<PatientProvider>.myProfile", "context.read<RecordsProvider>.createRecord", "InputField", "PrimaryButton"], "search-terms": ["MedicalRecordsScreen", "records_provider", "patient_provider", "add record dialog", "Flutter medical record UI", "medical record listing", "Add record Flutter"], "state": 2, "file_id": 33, "knowledge_revision": 81, "git_revision": "", "revision_history": [{"68": ""}, {"81": ""}], "hash": "7f45d4f19d5077ddf0063cb05c562dac", "format-version": 4, "code-base-name": "flutter_frontend", "filename": "flutter_frontend/lib/screens/records/medical_records_screen.dart"}