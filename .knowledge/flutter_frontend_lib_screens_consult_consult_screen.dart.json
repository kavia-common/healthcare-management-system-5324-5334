{"is_source_file": true, "format": "Dart", "description": "This file defines a Flutter screen 'ConsultScreen' for managing and scheduling medical consultations. It includes UI components for listing consultations and a modal sheet for scheduling new ones, with logic for fetching data and handling user input.", "external_files": ["../../state/consultation_provider.dart", "../../state/doctor_provider.dart", "../../state/patient_provider.dart", "../../widgets/common/primary_button.dart", "../../widgets/common/input_field.dart", "../../widgets/common/card_container.dart"], "external_methods": ["context.read<ConsultationProvider>().fetchConsultations", "Provider.of<DoctorProvider>(context, listen: false).fetchDoctors", "Provider.of<PatientProvider>(context, listen: false).fetchMyProfile", "context.watch<ConsultationProvider>().consultations", "context.read<ConsultationProvider>().schedule", "showModalBottomSheet", "showDatePicker", "showTimePicker", "Navigator.of(context).pop", "ScaffoldMessenger.of(context).showSnackBar"], "published": ["ConsultScreen"], "classes": [{"name": "ConsultScreen", "description": "A StatefulWidget that displays a list of consultations and a button to schedule new consultations."}, {"name": "_ConsultScreenState", "description": "State class for ConsultScreen, manages fetching data, UI building, and interactions."}, {"name": "_ScheduleSheet", "description": "A StatefulWidget representing the modal bottom sheet for scheduling a new consultation."}, {"name": "_ScheduleSheetState", "description": "State class for _ScheduleSheet, manages form inputs and submission logic."}], "methods": [{"name": "initState", "description": "Initializes state; fetches initial data for consultations, doctors, and profile."}, {"name": "_openSchedule", "description": "Opens the scheduling modal sheet and refreshes consultation list afterwards."}, {"name": "build", "description": "Constructs the widget tree for the consultation list screen."}, {"name": "dispose", "description": "Disposes of controllers when widget is removed."}, {"name": "_pickDateTime", "description": "Handles date and time picking dialogs and updates state."}, {"name": "_submit", "description": "Validates form and schedules a new consultation via provider, then dismisses modal or shows error."}], "calls": ["context.read<ConsultationProvider>().fetchConsultations", "Provider.of<DoctorProvider>(context, listen: false).fetchDoctors", "Provider.of<PatientProvider>(context, listen: false).fetchMyProfile", "showModalBottomSheet", "Provider.of<ConsultationProvider>(context, listen: false).fetchConsultations", "context.watch<ConsultationProvider>().consultations", "ScaffoldMessenger.of(context).showSnackBar", "Navigator.of(context).pop", "showDatePicker", "showTimePicker", "context.read<ConsultationProvider>().schedule"], "search-terms": ["consultation list Flutter", "schedule consultation modal", "doctor selection widget", "Flutter form validation", "fetch consultations provider", "Flutter bottom sheet", "Flutter date & time picker"], "state": 2, "file_id": 32, "knowledge_revision": 90, "git_revision": "", "revision_history": [{"66": ""}, {"90": ""}], "hash": "0937b53918ebaa2ecfae71c6da2cf269", "format-version": 4, "code-base-name": "flutter_frontend", "filename": "flutter_frontend/lib/screens/consult/consult_screen.dart"}