{"is_source_file": true, "format": "Dart", "description": "This Dart file defines the Flutter UI for the consult management screen in a healthcare application. It includes a stateful widget 'ConsultScreen' that displays a list of consultations and provides functionality to schedule new consultations via a modal bottom sheet with a form. The file interacts with various providers (ConsultationProvider, DoctorProvider, PatientProvider) to fetch and update data, and uses Flutter widgets for UI components like forms, buttons, and list tiles.", "external_files": ["../../state/consultation_provider.dart", "../../state/doctor_provider.dart", "../../state/patient_provider.dart", "../../widgets/common/primary_button.dart", "../../widgets/common/input_field.dart", "../../widgets/common/card_container.dart"], "external_methods": ["context.read<ConsultationProvider>().fetchConsultations", "Provider.of<ConsultationProvider>(context, listen: false).fetchConsultations", "Provider.of<DoctorProvider>(context, listen: false).fetchDoctors", "Provider.of<PatientProvider>(context, listen: false).fetchMyProfile", "context.watch<ConsultationProvider>().consultations", "Provider.of<ConsultationProvider>(context, listen: false).schedule"], "published": ["ConsultScreen"], "classes": [{"name": "ConsultScreen", "description": "Main widget displaying the list of consultations and providing an option to schedule a new one."}, {"name": "_ConsultScreenState", "description": "State class managing the internal state of the 'ConsultScreen', including fetching data and UI interactions."}, {"name": "_ScheduleSheet", "description": "Private widget presenting a form inside a bottom sheet for scheduling new consultations."}, {"name": "_ScheduleSheetState", "description": "State class managing the form data and interactions within the '_ScheduleSheet' widget."}], "methods": [{"name": "initState", "description": "Initializes state and fetches initial data for consultations, doctors, and patient profile."}, {"name": "_openSchedule", "description": "Opens the bottom sheet for scheduling a new consultation and refreshes the consultations list afterward."}, {"name": "build", "description": "Builds the UI for the consultations list and the floating action button."}, {"name": "dispose", "description": "Disposes controllers to free resources."}, {"name": "_pickDateTime", "description": "Allows the user to select date and time for scheduling a consultation."}, {"name": "_submit", "description": "Validates and submits the scheduling form, calling the provider to schedule a new consultation."}], "calls": ["context.read<ConsultationProvider>().fetchConsultations", "Provider.of<ConsultationProvider>(context, listen: false).fetchConsultations", "Provider.of<DoctorProvider>(context, listen: false).fetchDoctors", "Provider.of<PatientProvider>(context, listen: false).fetchMyProfile", "context.watch<ConsultationProvider>().consultations", "Provider.of<ConsultationProvider>(context, listen: false).schedule", "showModalBottomSheet", "Navigator.of(context).pop", "ScaffoldMessenger.of(context).showSnackBar", "showDatePicker", "showTimePicker"], "search-terms": ["Flutter consultation scheduling", "healthcare app Flutter UI", "consultation list Flutter", "schedule consultation modal"], "state": 2, "file_id": 32, "knowledge_revision": 97, "git_revision": "", "revision_history": [{"66": ""}, {"90": ""}, {"97": ""}], "hash": "7b1a478fd1d337bba94dac5cd9ec2189", "format-version": 4, "code-base-name": "flutter_frontend", "filename": "flutter_frontend/lib/screens/consult/consult_screen.dart"}