{"is_source_file": true, "format": "Dart", "description": "This file defines a Flutter screen for managing healthcare consultations, including listing consultations and scheduling new ones. It includes UI components, state management, and interactions with providers.", "external_files": ["../../state/consultation_provider.dart", "../../state/doctor_provider.dart", "../../state/patient_provider.dart", "../../widgets/common/primary_button.dart", "../../widgets/common/input_field.dart", "../../widgets/common/card_container.dart"], "external_methods": ["Provider.read", "Provider.watch", "showModalBottomSheet", "showDatePicker", "showTimePicker", "ScaffoldMessenger.of", "GlobalKey<FormState>.currentState.validate", "Navigator.of", "TextEditingController.dispose", "WidgetsBinding.instance.addPostFrameCallback"], "published": ["ConsultScreen", "_ScheduleSheet"], "classes": [{"name": "ConsultScreen", "description": "A stateful widget that displays a list of consultations and a button to schedule new ones."}, {"name": "_ConsultScreenState", "description": "State class for ConsultScreen, manages fetching and displaying consultations, and opening the scheduling sheet."}, {"name": "_ScheduleSheet", "description": "A StatefulWidget providing a form to schedule a new consultation."}, {"name": "_ScheduleSheetState", "description": "State class for _ScheduleSheet, manages form fields, date/time selection, and submission logic."}], "methods": [{"name": "initState", "description": "Initializes the state, fetches consultations on start."}, {"name": "_openSchedule", "description": "Opens the bottom sheet to schedule a new consultation."}, {"name": "build", "description": "Builds the UI for the ConsultScreen, lists consultations, and provides a button to open the schedule sheet."}, {"name": "initState", "description": "Initializes the schedule sheet, fetches doctors and patient profile."}, {"name": "dispose", "description": "Disposes controllers when the schedule sheet is disposed."}, {"name": "_pickDateTime", "description": "Allows user to pick date and time for the consultation."}, {"name": "_submit", "description": "Validates form and attempts to schedule a new consultation."}, {"name": "build", "description": "Builds the scheduling form UI."}], "calls": ["context.read<ConsultationProvider>()", "context.watch<ConsultationProvider>()", "showModalBottomSheet", "context.read<DoctorProvider>().fetchDoctors()", "context.read<PatientProvider>().fetchMyProfile()", "showDatePicker", "showTimePicker", "Navigator.of(context).pop()", "ScaffoldMessenger.of(context).showSnackBar", "PrimaryButton"], "search-terms": ["Flutter consultation screen", "healthcare scheduling", "doctor selection", "consultation list", "schedule modal", "patient profile fetch", "provider pattern Flutter", "bottom sheet form"], "state": 2, "file_id": 32, "knowledge_revision": 66, "git_revision": "", "hash": "054464ddec2789277c12a4ec367695e5", "format-version": 4, "code-base-name": "flutter_frontend", "filename": "flutter_frontend/lib/screens/consult/consult_screen.dart", "revision_history": [{"66": ""}]}